<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee House - Hương vị đậm đà, không gian ấm áp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/transitions.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'coffee': '#6F4E37',
                        'cream': '#F9F4EE',
                        'coffee-light': '#8B6F47',
                        'coffee-dark': '#5D3E2A'
                    },
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>
<body class="font-poppins bg-cream">
    <!-- Header (Fixed) -->
        <!-- Header (Fixed) -->
        <!-- Header (Fixed) -->
    <header class="bg-white shadow-lg fixed top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-3">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="index.html" class="flex items-center space-x-3 cursor-pointer hover:opacity-80 transition-opacity">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-coffee rounded-full flex items-center justify-center overflow-hidden shop-logo-container">
                        <i class="fas fa-coffee text-white text-lg sm:text-xl shop-logo-icon"></i>
                        <img src="" alt="Logo" class="shop-logo w-full h-full object-cover hidden">
                    </div>
                    <div>
                        <h1 class="text-xl sm:text-2xl font-bold text-coffee shop-name">Coffee Na</h1>
                        <p class="text-xs text-gray-600 hidden sm:block shop-description">Premium Coffee Experience</p>
                    </div>
                </a>

                <!-- Navigation Menu -->
                <nav class="hidden lg:flex items-center space-x-8">
                    <a href="index.html" class="nav-link text-gray-700 hover:text-coffee transition-colors">Trang chủ</a>
                    <a href="menu.html" class="nav-link text-gray-700 hover:text-coffee transition-colors">Menu</a>
                    <a href="reservation.html" class="nav-link text-gray-700 hover:text-coffee transition-colors">Đặt bàn</a>
                    <a href="promotion.html" class="nav-link text-gray-700 hover:text-coffee transition-colors">Khuyến mãi</a>
                    <a href="contact.html" class="nav-link text-gray-700 hover:text-coffee transition-colors">Liên hệ</a>
                </nav>

                <!-- Search Bar -->
                <div class="hidden md:flex items-center bg-gray-100 rounded-full px-4 py-2 max-w-xs">
                    <i class="fas fa-search text-gray-400 mr-2"></i>
                    <input type="text" placeholder="Tìm kiếm món..." class="bg-transparent outline-none text-sm flex-1">
                </div>

                <!-- Actions -->
                <div class="flex items-center space-x-2 sm:space-x-4">
                    <!-- Cart -->
                    <div class="relative">
                        <a href="cart.html" class="p-2 bg-coffee text-white rounded-full hover:bg-coffee-dark transition-colors inline-block">
                            <i class="fas fa-shopping-cart text-sm sm:text-base"></i>
                        </a>
                        <span class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center" id="cartCount">0</span>
                    </div>

                    <!-- User Menu / Login Button -->
                    <div class="relative user-menu">
                        <!-- Login Button (shown when not logged in) -->
                        <a href="login.html" id="loginBtn" data-no-transition class="bg-coffee text-white px-3 py-2 sm:px-4 sm:py-2 rounded-full hover:bg-coffee-dark transition-colors text-sm inline-flex items-center">
                            <i class="fas fa-user mr-1 sm:mr-2"></i>
                            <span class="hidden sm:inline">Đăng nhập</span>
                        </a>
                        
                        <!-- User Button (shown when logged in) -->
                        <button onclick="toggleUserMenu()" id="userBtn" class="hidden bg-coffee text-white px-3 py-2 sm:px-4 sm:py-2 rounded-full hover:bg-coffee-dark transition-colors text-sm items-center">
                            <i class="fas fa-user mr-1 sm:mr-2"></i>
                            <span id="userName">Tài khoản</span>
                            <i class="fas fa-chevron-down ml-2 text-xs"></i>
                        </button>
                        
                        <!-- Dropdown Menu -->
                        <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50">
                            <a href="profile.html" class="block px-4 py-2 text-gray-700 hover:bg-coffee hover:text-white transition-colors">
                                <i class="fas fa-user-circle mr-2"></i>Hồ sơ
                            </a>
                            <a href="my-orders.html" class="block px-4 py-2 text-gray-700 hover:bg-coffee hover:text-white transition-colors">
                                <i class="fas fa-shopping-bag mr-2"></i>Đơn hàng
                            </a>
                            <a href="reservation-history.html" class="block px-4 py-2 text-gray-700 hover:bg-coffee hover:text-white transition-colors">
                                <i class="fas fa-history mr-2"></i>Lịch sử đặt bàn
                            </a>
                            <!-- Admin menu injected here by user-menu.js -->
                            <hr class="my-2">
                            <a href="#" onclick="logout(); return false;" class="block px-4 py-2 text-red-600 hover:bg-red-50 transition-colors">
                                <i class="fas fa-sign-out-alt mr-2"></i>Đăng xuất
                            </a>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button class="lg:hidden p-2" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-coffee text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="lg:hidden bg-white border-t border-gray-200 hidden">
            <nav class="container mx-auto px-4 py-4 space-y-3">
                <a href="index.html" class="block text-gray-700 hover:text-coffee">Trang chủ</a>
                <a href="menu.html" class="block text-gray-700 hover:text-coffee">Menu</a>
                <a href="reservation.html" class="block text-gray-700 hover:text-coffee">Đặt bàn</a>
                <a href="promotion.html" class="block text-gray-700 hover:text-coffee">Khuyến mãi</a>
                <a href="contact.html" class="block text-gray-700 hover:text-coffee">Liên hệ</a>
                <div class="pt-3 border-t border-gray-200">
                    <a href="profile.html" class="block text-gray-700 hover:text-coffee py-2">
                        <i class="fas fa-user-circle mr-2"></i>Hồ sơ
                    </a>
                    <a href="my-orders.html" class="block text-gray-700 hover:text-coffee py-2">
                        <i class="fas fa-shopping-bag mr-2"></i>Đơn hàng của tôi
                    </a>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="relative h-[600px] md:h-[700px] bg-cover bg-center bg-no-repeat mt-20" style="background-image: linear-gradient(rgba(111, 78, 55, 0.7), rgba(111, 78, 55, 0.7)), url('https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80')">
        <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center text-white px-4">
                <div class="mb-6">
                    <i class="fas fa-coffee text-6xl md:text-8xl text-cream mb-4"></i>
                </div>
                <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">
                    Hương vị đậm đà<br>
                    <span class="text-cream">Không gian ấm áp</span>
                </h1>
                <p class="text-lg md:text-xl mb-8 opacity-90 max-w-2xl mx-auto">
                    Khám phá thế giới cà phê đặc biệt với những hạt cà phê được chọn lọc kỹ càng từ những vùng đất nổi tiếng
                </p>
                <button onclick="scrollToMenu()" class="bg-cream text-coffee px-8 py-4 rounded-full text-lg font-semibold hover:bg-white transition-colors shadow-lg">
                    <i class="fas fa-utensils mr-2"></i>Xem Menu
                </button>
            </div>
        </div>
        
        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <i class="fas fa-chevron-down text-white text-2xl"></i>
        </div>
    </section>

    <!-- About Section -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Image -->
                <div class="order-2 lg:order-1">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Coffee House Interior" class="rounded-2xl shadow-2xl w-full h-[400px] object-cover">
                        <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-coffee rounded-2xl flex items-center justify-center">
                            <div class="text-center text-white">
                                <div class="text-3xl font-bold">5+</div>
                                <div class="text-sm">Năm kinh nghiệm</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content -->
                <div class="order-1 lg:order-2">
                    <div class="mb-6">
                        <span class="text-coffee font-semibold text-lg">VỀ CHÚNG TÔI</span>
                        <h2 class="text-4xl font-bold text-gray-800 mt-2 mb-6">
                            Câu chuyện của<br>
                            <span class="text-coffee">Coffee House</span>
                        </h2>
                    </div>
                    
                    <p class="text-gray-600 text-lg leading-relaxed mb-6">
                        Được thành lập từ năm 2019, Coffee House là nơi hội tụ của những tín đồ cà phê thực thụ. 
                        Chúng tôi tự hào mang đến những ly cà phê chất lượng cao với hương vị đậm đà, 
                        được pha chế từ những hạt cà phê Arabica và Robusta tuyển chọn.
                    </p>
                    
                    <div class="grid grid-cols-2 gap-6 mb-8">
                        <div class="text-center p-4 bg-cream rounded-xl">
                            <i class="fas fa-award text-coffee text-3xl mb-2"></i>
                            <div class="font-bold text-2xl text-coffee">100%</div>
                            <div class="text-gray-600 text-sm">Cà phê nguyên chất</div>
                        </div>
                        <div class="text-center p-4 bg-cream rounded-xl">
                            <i class="fas fa-users text-coffee text-3xl mb-2"></i>
                            <div class="font-bold text-2xl text-coffee">1000+</div>
                            <div class="text-gray-600 text-sm">Khách hàng hài lòng</div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button class="bg-coffee text-white px-6 py-3 rounded-full hover:bg-coffee-dark transition-colors">
                            <i class="fas fa-info-circle mr-2"></i>Xem thêm
                        </button>
                        <button class="border-2 border-coffee text-coffee px-6 py-3 rounded-full hover:bg-coffee hover:text-white transition-colors">
                            <i class="fas fa-calendar-alt mr-2"></i>Đặt bàn ngay
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Best Seller Section -->
    <section id="menu" class="py-20 bg-cream">
        <div class="container mx-auto px-4">
            <!-- Section Header -->
            <div class="text-center mb-16">
                <span class="text-coffee font-semibold text-lg">MENU NỔI BẬT</span>
                <h2 class="text-4xl font-bold text-gray-800 mt-2 mb-4">
                    Những món <span class="text-coffee">được yêu thích nhất</span>
                </h2>
                <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    Khám phá những món đồ uống và bánh ngọt được khách hàng lựa chọn nhiều nhất tại Coffee House
                </p>
            </div>

            <!-- Products Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="bestSellersGrid">
                <!-- Products will be dynamically loaded from JSON -->
            </div>

            <!-- View All Button -->
            <div class="text-center mt-12">
                <button class="bg-coffee text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-coffee-dark transition-colors shadow-lg">
                    <i class="fas fa-th-large mr-2"></i>Xem tất cả menu
                </button>
            </div>
        </div>
    </section>

    <!-- Promotion Section -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <!-- Section Header -->
            <div class="text-center mb-16">
                <span class="text-coffee font-semibold text-lg">KHUYẾN MÃI HOT</span>
                <h2 class="text-4xl font-bold text-gray-800 mt-2 mb-4">
                    Ưu đãi <span class="text-coffee">đặc biệt</span>
                </h2>
                <p class="text-gray-600 text-lg max-w-2xl mx-auto">
                    Đừng bỏ lỡ những chương trình khuyến mãi hấp dẫn chỉ có tại Coffee House
                </p>
            </div>

            <!-- Promotions Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Promotion 1 -->
                <div class="relative bg-gradient-to-r from-coffee to-coffee-light rounded-2xl overflow-hidden shadow-2xl">
                    <div class="absolute inset-0 bg-black bg-opacity-20"></div>
                    <div class="relative p-8 text-white">
                        <div class="flex items-center justify-between mb-4">
                            <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold">HOT</span>
                            <div class="text-right">
                                <div class="text-3xl font-bold">30%</div>
                                <div class="text-sm opacity-90">GIẢM GIÁ</div>
                            </div>
                        </div>
                        <h3 class="text-2xl font-bold mb-2">Combo Cà Phê + Bánh</h3>
                        <p class="opacity-90 mb-6">Thưởng thức combo cà phê kèm bánh ngọt với giá ưu đãi đặc biệt</p>
                        
                        <!-- Countdown -->
                        <div class="bg-white bg-opacity-20 rounded-lg p-4 mb-6">
                            <div class="text-center mb-2">
                                <span class="text-sm opacity-90">Thời gian còn lại:</span>
                            </div>
                            <div class="flex justify-center space-x-4" id="countdown1">
                                <div class="text-center">
                                    <div class="text-2xl font-bold" id="days1">05</div>
                                    <div class="text-xs opacity-75">NGÀY</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold" id="hours1">12</div>
                                    <div class="text-xs opacity-75">GIỜ</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold" id="minutes1">30</div>
                                    <div class="text-xs opacity-75">PHÚT</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold" id="seconds1">45</div>
                                    <div class="text-xs opacity-75">GIÂY</div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="bg-white text-coffee px-6 py-3 rounded-full font-semibold hover:bg-cream transition-colors">
                            <i class="fas fa-shopping-cart mr-2"></i>Đặt ngay
                        </button>
                    </div>
                </div>

                <!-- Promotion 2 -->
                <div class="space-y-6">
                    <!-- Small Promotion 1 -->
                    <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -mr-10 -mt-10"></div>
                        <div class="relative">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-xl font-bold">Mua 2 Tặng 1</h3>
                                <i class="fas fa-gift text-2xl"></i>
                            </div>
                            <p class="text-sm opacity-90 mb-4">Áp dụng cho tất cả đồ uống size M</p>
                            <button class="bg-white text-green-600 px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-100 transition-colors">
                                Chi tiết
                            </button>
                        </div>
                    </div>

                    <!-- Small Promotion 2 -->
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -mr-10 -mt-10"></div>
                        <div class="relative">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-xl font-bold">Happy Hour</h3>
                                <i class="fas fa-clock text-2xl"></i>
                            </div>
                            <p class="text-sm opacity-90 mb-4">Giảm 20% từ 14h-16h hàng ngày</p>
                            <button class="bg-white text-purple-600 px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-100 transition-colors">
                                Chi tiết
                            </button>
                        </div>
                    </div>

                    <!-- Small Promotion 3 -->
                    <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -mr-10 -mt-10"></div>
                        <div class="relative">
                            <div class="flex items-center justify-between mb-3">
                                <h3 class="text-xl font-bold">Thành viên VIP</h3>
                                <i class="fas fa-crown text-2xl"></i>
                            </div>
                            <p class="text-sm opacity-90 mb-4">Tích điểm đổi quà hấp dẫn</p>
                            <button class="bg-white text-orange-600 px-4 py-2 rounded-full text-sm font-semibold hover:bg-gray-100 transition-colors">
                                Đăng ký
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-coffee text-white py-16">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Company Info -->
                <div>
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center">
                            <i class="fas fa-coffee text-coffee text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold shop-name">Coffee House</h3>
                            <p class="text-sm opacity-80 shop-description">Premium Coffee Experience</p>
                        </div>
                    </div>
                    <p class="text-gray-300 mb-6 leading-relaxed">
                        Nơi hội tụ của những tín đồ cà phê thực thụ với hương vị đậm đà và không gian ấm cúng.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#" class="w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="text-xl font-semibold mb-6">Liên Kết Nhanh</h4>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i>Trang chủ</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i>Menu</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i>Đặt bàn</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i>Khuyến mãi</a></li>
                        <li><a href="#" class="text-gray-300 hover:text-white transition-colors flex items-center"><i class="fas fa-chevron-right text-xs mr-2"></i>Liên hệ</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h4 class="text-xl font-semibold mb-6">Thông Tin Liên Hệ</h4>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <i class="fas fa-map-marker-alt text-cream mt-1"></i>
                            <div>
                                <p class="text-gray-300">123 Nguyễn Văn Linh</p>
                                <p class="text-gray-300">Quận 7, TP.HCM</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-phone text-cream"></i>
                            <p class="text-gray-300">0123 456 789</p>
                        </div>
                        <div class="flex items-center space-x-3">
                            <i class="fas fa-envelope text-cream"></i>
                            <p class="text-gray-300">info@coffeehouse.vn</p>
                        </div>
                    </div>
                </div>

                <!-- Opening Hours -->
                <div>
                    <h4 class="text-xl font-semibold mb-6">Giờ Mở Cửa</h4>
                    <div class="space-y-3">
                        <div class="flex justify-between">
                            <span class="text-gray-300">Thứ 2 - Thứ 6:</span>
                            <span class="text-white font-semibold">7:00 - 22:00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-300">Thứ 7 - Chủ nhật:</span>
                            <span class="text-white font-semibold">6:30 - 23:00</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-300">Ngày lễ:</span>
                            <span class="text-white font-semibold">8:00 - 21:00</span>
                        </div>
                    </div>
                    
                    <div class="mt-6 p-4 bg-white bg-opacity-10 rounded-lg">
                        <div class="flex items-center space-x-2 mb-2">
                            <i class="fas fa-clock text-cream"></i>
                            <span class="font-semibold">Hiện tại:</span>
                        </div>
                        <span class="text-green-400 font-semibold" id="currentStatus">Đang mở cửa</span>
                    </div>
                </div>
            </div>

            <div class="border-t border-white border-opacity-20 mt-12 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <p class="text-gray-300 mb-4 md:mb-0">
                        © 2024 Coffee House. All rights reserved.
                    </p>
                    <div class="flex space-x-6 text-sm">
                        <a href="#" class="text-gray-300 hover:text-white transition-colors">Chính sách bảo mật</a>
                        <a href="#" class="text-gray-300 hover:text-white transition-colors">Điều khoản sử dụng</a>
                        <a href="#" class="text-gray-300 hover:text-white transition-colors">Hỗ trợ</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="fixed bottom-6 right-6 bg-coffee text-white w-12 h-12 rounded-full shadow-lg hover:bg-coffee-dark transition-colors opacity-0 invisible" onclick="scrollToTop()">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- Core utility scripts - load first -->
    <script src="assets/js/utils.js"></script>
    
    <!-- Core managers - load before other scripts -->
    <script src="assets/js/cart-manager.js"></script>
    <script src="assets/js/auth-manager.js"></script>
    <script src="assets/js/navigation-manager.js"></script>
    
    <!-- API and legacy compatibility -->
    <script src="assets/js/api.js"></script>
    <script src="assets/js/auth.js"></script>
    
    <!-- Page-specific scripts -->
    <script src="assets/js/settings-loader.js"></script>
    <script src="assets/js/home.js"></script>
    <script src="assets/js/user-menu.js"></script>

    <!-- Shop Status Script -->
    <script>
        // Update footer contact information (kept for backward compatibility)
        function updateFooterInfo(shopData) {
            // Update address
            const addressDiv = document.querySelector('.fa-map-marker-alt')?.parentElement?.parentElement;
            if (addressDiv && shopData.address) {
                const addressLines = shopData.address.split(',');
                const pElements = addressDiv.querySelectorAll('p');
                if (pElements.length >= 2 && addressLines.length >= 2) {
                    pElements[0].textContent = addressLines.slice(0, -1).join(',').trim();
                    pElements[1].textContent = addressLines.slice(-1)[0].trim();
                } else if (pElements.length >= 1) {
                    pElements[0].textContent = shopData.address;
                }
            }

            // Update phone
            const phoneElement = document.querySelector('.fa-phone')?.parentElement?.querySelector('p');
            if (phoneElement && shopData.phone) {
                phoneElement.textContent = shopData.phone;
            }

            // Update email
            const emailElement = document.querySelector('.fa-envelope')?.parentElement?.querySelector('p');
            if (emailElement && shopData.email) {
                emailElement.textContent = shopData.email;
            }
        }

        // Check current shop status based on hours
        function updateShopStatus() {
            const now = new Date();
            const currentDay = now.getDay(); // 0 = Sunday, 1 = Monday, etc.
            const currentTime = now.getHours() * 60 + now.getMinutes();
            
            // Default hours (can be updated from settings)
            let openTime = 7 * 60; // 7:00 AM
            let closeTime = 22 * 60; // 10:00 PM
            
            // Weekend hours
            if (currentDay === 0 || currentDay === 6) {
                openTime = 6.5 * 60; // 6:30 AM
                closeTime = 23 * 60; // 11:00 PM
            }
            
            const statusElement = document.getElementById('currentStatus');
            if (statusElement) {
                if (currentTime >= openTime && currentTime < closeTime) {
                    statusElement.textContent = 'Đang mở cửa';
                    statusElement.className = 'text-green-400 font-semibold';
                } else {
                    statusElement.textContent = 'Đã đóng cửa';
                    statusElement.className = 'text-red-400 font-semibold';
                }
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadShopSettings();
            updateShopStatus();
            
            // Update status every minute
            setInterval(updateShopStatus, 60000);
        });

        // Listen for settings updates from other tabs
        window.addEventListener('storage', function(e) {
            if (e.key === 'shopSettings') {
                loadShopSettings();
            }
        });
        
        // Listen for settings updates from same tab (admin panel)
        window.addEventListener('shopSettingsUpdated', function(e) {
            loadShopSettings();
        });
    </script>
</body>
</html>
